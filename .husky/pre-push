#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

# Fix for Windows/GitHub Desktop: add .cmd extension
command_exists() {
  command -v "$1" >/dev/null 2>&1
}

if command_exists pnpm.cmd; then
  PNPM_CMD="pnpm.cmd"
else
  PNPM_CMD="pnpm"
fi

echo "ğŸš€ Running pre-push checks..."
echo "---------------"

echo "ğŸ—ï¸  Building project..."
$PNPM_CMD build || {
  echo "âŒ Build failed. Please fix the errors before pushing."
  exit 1
}

echo "âœ… Pre-push checks passed. Proceeding with push."
